    
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"/>
<title>Cadastrar compartimentos</title>
<script type="text/javascript" src="js/jquery.js"></script>
</head>
<body>
  <div class="back">
  <div class="headers"></div>
  <div class="content">
    <div id="text_input"> 
      <p>Compartimento</p>
      <input type="text" id="comp_txt" class="caixatxtMain"><br><br>
      <p>Tamanho</p>
      <input type="text" id="size_txt" class="caixatxtMain"><br><br>
      <p>Situação</p>
      <input type="text" id="sit_txt" class="caixatxtMain"><br><br>
      <p>Entrega</p>
      <input type="text" id="entregaId_txt" class="caixatxtMain"><br><br>
      <p>date</p>
      <input type="text" id="date_txt" class="caixatxtMain"><br><br>
  </div>
  </div>
  <div class="footer">
    <div class="bottom_button">
      <input type="button" id="inserir" class="button" value="Inserir">
      <input type="button" id="refresh" class="button" value="Refresh">
  </div>
  </div>
</div>
<script> 


$("#inserir").click(function () {
  const comp = document.getElementById("comp_txt").value
  const size = document.getElementById("size_txt").value
  const sit = document.getElementById("sit_txt").value
  const entregaId = document.getElementById("entregaId_txt").value
  const date = document.getElementById("date_txt").value
  const data = {comp,size,sit, entregaId, date};
  const options = {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
    };
    const response =  fetch(server+'/db_comp', options);
    console.log("Postado");
});

$("#refresh").click(function () {

getData();

async function getData() {
  const response = await fetch(server+'/db_comp');
  const data = await response.json();

  for (item of data) {
    const root = document.createElement('p'); 
    const id = document.createElement('div');
    const comp = document.createElement('div');
    const size = document.createElement('div');
    const sit = document.createElement('div');
    const entregaId = document.createElement('div');
    const date = document.createElement('div');

    id.textContent = `id: ${item.id}`;
    comp.textContent = `comp: ${item.comp}`;
    size.textContent = `size: ${item.size}`;
    sit.textContent = `sit: ${item.sit}`;
    entregaId.textContent = `ID: ${item.entregaId}`;
    date.textContent = `date: ${item.date}`;

    root.append(id, comp, size, sit, entregaId, date);
    document.body.append(root);
  }
  console.log(data);

}});

</script>
</body>
</html>
    